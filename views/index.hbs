<!DOCTYPE html>
<html>

  <body>
    <h2>Data Entry Page</h2>
    <hr width="90%">
    <p>Welcome to FitTracker! </br>To begin, please create a new category and enter in your data.</p>

    <div id="new-category">
      <!-- <form action="" method="" class = "intro"> -->
      <form id="upload-form" action="/upload" method="POST" enctype="multipart/form-data">
        <label for="category-name">Category Name:</label>
        <input type="text" id="category-input" name="category-name" placeholder="Body Weight" required>
        
        <label for="category-name">Category Unit:</label>
        <input type="text" id="category-unit" name="category-name" placeholder="kg" required>

        <input type="submit" value="Submit New Category">
      </form>
    </div>

    

    <div id="category-1">
      <p id="category-1-name">Category 1</p>
      <form id="category-1-upload" class = "c1">
        <label for="value1" class = "label1">Value</label>
        <input type="number" name="value1" required>

        <label for="date1" class = "label1">Date</label>
        <input type="number" name="date1" placeholder="MMDDYYYY" required>

        <input type="submit" value="Submit Data">
      </form>
    </div>

    </br>

    <div id="category-2">
      <p id="category-2-name">Category 2</p> 
      <form id="category-2-upload" class = "c2">  
        <label for="value2" class = "label2">Value</label>
        <input type="number" name="value2" required>

        <label for="date2" class = "label2">Date</label>
        <input type="number" name="date2" placeholder="MMDDYYYY" required>

        <input type="submit" value="Submit Data">
      </form>
    </div> 

    </br>

    <div id="category-3">
      <p id="category-3-name">Category 3</p>
      <form id="category-3-upload" class = "c3">
        <label for="value3" class = "label3">Value</label>
        <input type="number" name="value3" required>

        <label for="date3" class = "label3">Date</label>
        <input type="number" name="date3" placeholder="MMDDYYYY" required>

        <input type="submit" value="Submit Data">
      </form>
    </div> 

    </br>

    <div id="category-4">
      <p id="category-4-name">Category 4</p>
      <form id="category-4-upload" class = "c4">
        <label for="value4" class = "label4">Value</label>
        <input type="number" name="value4" required>

        <label for="date4" class = "label4">Date</label>
        <input type="number" name="date4" placeholder="MMDDYYYY" required>

        <input type="submit" value="Submit Data">
      </form>
    </div> 

    </br>

    <div id="category-5">
      <p id="category-5-name">Category 5</p>
      <form id="category-5-upload" class = "c5">
        <label for="value5" class = "label5">Value</label>
        <input type="number" name="value5" required>

        <label for="date5" class ="label5">Date</label>
        <input type="number" name="date5" placeholder="MMDDYYYY" required>

        <input type="submit" value="Submit Data">
      </form>
    </div> 

    </br> 

    <div id="category-6">
      <p id="category-6-name">Category 6</p>
      <form id="category-6-upload" class = "c6">
        <label for="value6" class = "label6">Value</label>
        <input type="number" name="value6" required>

        <label for="date6" class = "label6">Date</label>
        <input type="number" name="date6" placeholder="MMDDYYYY" required>

        <input type="submit" value="Submit Data">
      </form>
    </div>

    <div id="goalEntry">
      <p id="goalEntryTitle">Enter A Goal</p>
      <form id="upload-goal" class="goal">
        <label for="goalCategory">For Category:</label>
        <input type="number" id="goalCategoryInput" name="goalCategory" required>

        <label for="goalValue">Value</label>
        <input type="number" id="goalValueInput" name="goalValue" required>

        <label for="goalUnit">Unit</label>
        <input type="number" id="goalUnitInput" name="goalUnit" required>
          
        <input type="submit" value="Submit Goal">
      </form>

    </div>

    <div id="Footer">
      <footer>
        Team Ashraf has pizza for every meal
      </footer>
    </div>

    
    <script>
      var timesClicked = 0;
      document.getElementById('upload-form').addEventListener('submit', (e) => {
        if(timesClicked == 0){
          document.getElementById("category-1-name").innerHTML = document.getElementById("category-input").value + 
                                                                 " (" + document.getElementById("category-unit").value + ")";
          document.getElementById("button1").disabled = false;
          timesClicked = timesClicked + 1;
        }else if (timesClicked == 1){
          document.getElementById("category-2-name").innerHTML = document.getElementById("category-input").value + 
                                                                 " (" + document.getElementById("category-unit").value + ")";
          document.getElementById("button2").disabled = false;
          timesClicked = timesClicked + 1;
        }else if (timesClicked == 2){
          document.getElementById("category-3-name").innerHTML = document.getElementById("category-input").value + 
                                                                 " (" + document.getElementById("category-unit").value + ")";
          document.getElementById("button3").disabled = false;
          timesClicked = timesClicked + 1;
        }else if (timesClicked == 3){
          document.getElementById("category-4-name").innerHTML = document.getElementById("category-input").value + 
                                                                 " (" + document.getElementById("category-unit").value + ")";
          document.getElementById("button4").disabled = false;
          timesClicked = timesClicked + 1;
        }else if (timesClicked == 4){
          document.getElementById("category-5-name").innerHTML = document.getElementById("category-input").value + 
                                                                 " (" + document.getElementById("category-unit").value + ")";
          document.getElementById("button5").disabled = false;
          timesClicked = timesClicked + 1;
        }else{
          document.getElementById("category-6-name").innerHTML = document.getElementById("category-input").value + 
                                                                 " (" + document.getElementById("category-unit").value + ")";
          document.getElementById("button6").disabled = false;
          timesClicked = timesClicked + 1;
          document.getElementById("newCategoryBtn").disabled = true;
        }
      });
      document.getElementById('upload-goal').addEventListener('submit', (e) =>{
          var goalInput = document.getElementById("goalCategoryInput") + "," + document.getElementById("goalValueInput") + "," + document.getElementById("goalUnitInput");
          //TODO: UPLOAD GOALINPUT TO THE DATABASE AS YOU SEE FIT. goalInput = category,value,unit
      });

    </script>


    
    <script src="https://cdn.jsdelivr.net/npm/js-confetti@latest/dist/js-confetti.browser.js">
      const jsConfetti = new JSConfetti();
      function makeConfetti(){
        jsConfetti.addConfetti();
      }

      //TODO: CALL MAKECONFETTI FUNCTION WHEN THE GOAL IS MET.
    </script>
  </body> 
</html>
